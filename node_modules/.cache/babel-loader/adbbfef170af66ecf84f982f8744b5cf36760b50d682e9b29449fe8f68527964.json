{"ast":null,"code":"// Storage封装\nconst STORAGE_KEY = 'mall';\nexport default {\n  //存储值\n  setItem(key, value, module_name) {\n    if (module_name) {\n      let val = this.getItem(module_name);\n      val[key] = value;\n      this.setItem(module_name, val);\n    } else {\n      let val = this.getStorage();\n      val[key] = value;\n      window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val));\n    }\n  },\n  // 获取某一个模块下面的属性user下面的userName\n  getItem(key, module_name) {\n    if (module_name) {\n      let val = this.getItem(module_name);\n      if (val) return val[key];\n    }\n    return this.getStorage()[key];\n  },\n  //获取所有信息\n  getStorage() {\n    return JSON.parse(window.sessionStorage.getItem(STORAGE_KEY) || \"{}\");\n  },\n  clear(key, module_name) {\n    let val = this.getStorage();\n    if (module_name) {\n      delete val[module_name][key];\n    } else {\n      delete val[key];\n    }\n    window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val));\n  }\n};","map":{"version":3,"names":["STORAGE_KEY","setItem","key","value","module_name","val","getItem","getStorage","window","sessionStorage","JSON","stringify","parse","clear"],"sources":["C:/Users/潘文丽/Desktop/mall/mall/mall/src/storage/index.js"],"sourcesContent":["// Storage封装\r\nconst STORAGE_KEY = 'mall';\r\nexport default {\r\n    //存储值\r\n    setItem(key, value, module_name) {\r\n        if (module_name) {\r\n            let val = this.getItem(module_name);\r\n            val[key] = value;\r\n            this.setItem(module_name, val)\r\n        } else {\r\n            let val = this.getStorage();\r\n            val[key] = value\r\n            window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val))\r\n        }\r\n    },\r\n    // 获取某一个模块下面的属性user下面的userName\r\n    getItem(key, module_name) {\r\n        if (module_name) {\r\n            let val = this.getItem(module_name);\r\n            if (val) return val[key]\r\n        }\r\n        return this.getStorage()[key];\r\n    },\r\n    //获取所有信息\r\n    getStorage() {\r\n        return JSON.parse(window.sessionStorage.getItem(STORAGE_KEY) || \"{}\")\r\n    },\r\n    clear(key, module_name) {\r\n        let val = this.getStorage();\r\n        if (module_name) {\r\n            delete val[module_name][key];\r\n        } else {\r\n            delete val[key];\r\n        }\r\n        window.sessionStorage.setItem(STORAGE_KEY, JSON.stringify(val))\r\n    }\r\n\r\n}"],"mappings":"AAAA;AACA,MAAMA,WAAW,GAAG,MAAM;AAC1B,eAAe;EACX;EACAC,OAAOA,CAACC,GAAG,EAAEC,KAAK,EAAEC,WAAW,EAAE;IAC7B,IAAIA,WAAW,EAAE;MACb,IAAIC,GAAG,GAAG,IAAI,CAACC,OAAO,CAACF,WAAW,CAAC;MACnCC,GAAG,CAACH,GAAG,CAAC,GAAGC,KAAK;MAChB,IAAI,CAACF,OAAO,CAACG,WAAW,EAAEC,GAAG,CAAC;IAClC,CAAC,MAAM;MACH,IAAIA,GAAG,GAAG,IAAI,CAACE,UAAU,CAAC,CAAC;MAC3BF,GAAG,CAACH,GAAG,CAAC,GAAGC,KAAK;MAChBK,MAAM,CAACC,cAAc,CAACR,OAAO,CAACD,WAAW,EAAEU,IAAI,CAACC,SAAS,CAACN,GAAG,CAAC,CAAC;IACnE;EACJ,CAAC;EACD;EACAC,OAAOA,CAACJ,GAAG,EAAEE,WAAW,EAAE;IACtB,IAAIA,WAAW,EAAE;MACb,IAAIC,GAAG,GAAG,IAAI,CAACC,OAAO,CAACF,WAAW,CAAC;MACnC,IAAIC,GAAG,EAAE,OAAOA,GAAG,CAACH,GAAG,CAAC;IAC5B;IACA,OAAO,IAAI,CAACK,UAAU,CAAC,CAAC,CAACL,GAAG,CAAC;EACjC,CAAC;EACD;EACAK,UAAUA,CAAA,EAAG;IACT,OAAOG,IAAI,CAACE,KAAK,CAACJ,MAAM,CAACC,cAAc,CAACH,OAAO,CAACN,WAAW,CAAC,IAAI,IAAI,CAAC;EACzE,CAAC;EACDa,KAAKA,CAACX,GAAG,EAAEE,WAAW,EAAE;IACpB,IAAIC,GAAG,GAAG,IAAI,CAACE,UAAU,CAAC,CAAC;IAC3B,IAAIH,WAAW,EAAE;MACb,OAAOC,GAAG,CAACD,WAAW,CAAC,CAACF,GAAG,CAAC;IAChC,CAAC,MAAM;MACH,OAAOG,GAAG,CAACH,GAAG,CAAC;IACnB;IACAM,MAAM,CAACC,cAAc,CAACR,OAAO,CAACD,WAAW,EAAEU,IAAI,CAACC,SAAS,CAACN,GAAG,CAAC,CAAC;EACnE;AAEJ,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}